// Generated from: e2e/features/pessoa-contato.feature
import { test } from "../../../steps/fixtures.ts";

test.describe('Gerenciamento de Contatos de Pessoas', () => {

  test.beforeEach('Background: Usuário autenticado e pessoa de teste existente', async ({ Given, page, When, And, ctx }) => {
    await Given('que eu estou na tela de login', null, { page }); 
    await When('eu faço login com as credenciais "admin" e "admin"', null, { page }); 
    await And('que uma pessoa com o nome "Pessoa de Teste" e um CPF único já existe no sistema', null, { page, ctx }); 
    await And('eu navego para a lista de "Pessoa Contato"', null, { page }); 
  });
  
  test('Criar um novo contato do tipo telefone para uma pessoa', { tag: ['@pessoascontato', '@create'] }, async ({ When, page, And, ctx, Then }) => { 
    await When('eu clico no botão "Create a new Pessoa Contato"', null, { page }); 
    await And('eu preencho o formulário de contato de pessoa com os seguintes dados:', {"dataTable":{"rows":[{"cells":[{"value":"campo"},{"value":"valor"}]},{"cells":[{"value":"Descricao"},{"value":"Descrição Única e Randômica"}]},{"cells":[{"value":"Telefone Numero Completo"},{"value":"+55 (11) 98765-4321"}]},{"cells":[{"value":"Contato"},{"value":"o id da pessoa \"Pessoa de Teste\""}]}]}}, { page, ctx }); 
    await And('eu marco o checkbox "Preferido"', null, { page }); 
    await And('eu marco o checkbox "Possui Whatsapp"', null, { page }); 
    await And('eu clico no botão "Save"', null, { page }); 
    await Then('eu devo ver a mensagem de sucesso "A new pessoaContato is created with identifier"', null, { page }); 
    await And('a tabela de contatos de pessoa deve conter uma linha com a descrição gerada', null, { page, ctx }); 
  });

  test('Editar um contato de pessoa existente com sucesso', { tag: ['@pessoascontato', '@edit'] }, async ({ Given, page, ctx, When, And, Then }) => { 
    await Given('que um contato de pessoa com a descrição "Contato a ser Editado" e um ID único já existe no sistema', null, { page, ctx }); 
    await When('eu clico no botão de edição na linha que contém a descrição "Contato a ser Editado" e o ID único', null, { page, ctx }); 
    await And('eu preencho o campo "Descricao" com o valor "Contato Editado com Sucesso"', null, { page }); 
    await And('eu clico no botão "Save"', null, { page }); 
    await Then('eu devo ver a mensagem de sucesso "A pessoaContato is updated with identifier"', null, { page }); 
    await And('a tabela de contatos de pessoa deve conter uma linha com o ID único a descrição "Contato Editado com Sucesso"', null, { page, ctx }); 
  });

  test('Excluir um contato de pessoa existente com sucesso', { tag: ['@pessoascontato', '@delete'] }, async ({ Given, page, ctx, When, And, Then }) => { 
    await Given('que um contato de pessoa com a descrição "Contato a ser Excluído" e um ID único já existe no sistema', null, { page, ctx }); 
    await When('eu clico no botão de exclusão na linha que contém a descrição "Contato a ser Excluído" e o ID único', null, { page, ctx }); 
    await And('eu clico no botão de confirmar deleção no modal para a entidade "pessoa-contatoes"', null, { page }); 
    await Then('eu devo ver a mensagem de sucesso "A pessoaContato is deleted with identifier"', null, { page }); 
    await And('a tabela de contatos de pessoa não deve conter uma linha com a descrição "Contato a ser Excluído" e o ID único', null, { page, ctx }); 
  });

  test('Tentar criar um contato sem selecionar uma Pessoa', { tag: ['@pessoascontato', '@validation'] }, async ({ When, page, And, Then }) => { 
    await When('eu clico no botão "Create a new Pessoa Contato"', null, { page }); 
    await And('eu preencho o campo "Descricao" com o valor "Contato sem Pessoa"', null, { page }); 
    await Then('o botão "Save" deve estar desabilitado', null, { page }); 
  });

});

// == technical section ==

test.use({
  $test: ({}, use) => use(test),
  $uri: ({}, use) => use('e2e/features/pessoa-contato.feature'),
  $bddFileData: ({}, use) => use(bddFileData),
});

const bddFileData = [ // bdd-data-start
  {"pwTestLine":13,"pickleLine":17,"tags":["@pessoascontato","@create"],"steps":[{"pwStepLine":7,"gherkinStepLine":8,"keywordType":"Context","textWithKeyword":"Given que eu estou na tela de login","isBg":true,"stepMatchArguments":[]},{"pwStepLine":8,"gherkinStepLine":9,"keywordType":"Action","textWithKeyword":"When eu faço login com as credenciais \"admin\" e \"admin\"","isBg":true,"stepMatchArguments":[{"group":{"start":33,"value":"\"admin\"","children":[{"start":34,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":43,"value":"\"admin\"","children":[{"start":44,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":9,"gherkinStepLine":11,"keywordType":"Action","textWithKeyword":"And que uma pessoa com o nome \"Pessoa de Teste\" e um CPF único já existe no sistema","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa de Teste\"","children":[{"start":27,"value":"Pessoa de Teste","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":10,"gherkinStepLine":12,"keywordType":"Action","textWithKeyword":"And eu navego para a lista de \"Pessoa Contato\"","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa Contato\"","children":[{"start":27,"value":"Pessoa Contato","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":14,"gherkinStepLine":18,"keywordType":"Action","textWithKeyword":"When eu clico no botão \"Create a new Pessoa Contato\"","stepMatchArguments":[{"group":{"start":18,"value":"\"Create a new Pessoa Contato\"","children":[{"start":19,"value":"Create a new Pessoa Contato","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":15,"gherkinStepLine":19,"keywordType":"Action","textWithKeyword":"And eu preencho o formulário de contato de pessoa com os seguintes dados:","stepMatchArguments":[]},{"pwStepLine":16,"gherkinStepLine":25,"keywordType":"Action","textWithKeyword":"And eu marco o checkbox \"Preferido\"","stepMatchArguments":[{"group":{"start":20,"value":"\"Preferido\"","children":[{"start":21,"value":"Preferido","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":17,"gherkinStepLine":26,"keywordType":"Action","textWithKeyword":"And eu marco o checkbox \"Possui Whatsapp\"","stepMatchArguments":[{"group":{"start":20,"value":"\"Possui Whatsapp\"","children":[{"start":21,"value":"Possui Whatsapp","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":18,"gherkinStepLine":27,"keywordType":"Action","textWithKeyword":"And eu clico no botão \"Save\"","stepMatchArguments":[{"group":{"start":18,"value":"\"Save\"","children":[{"start":19,"value":"Save","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":19,"gherkinStepLine":28,"keywordType":"Outcome","textWithKeyword":"Then eu devo ver a mensagem de sucesso \"A new pessoaContato is created with identifier\"","stepMatchArguments":[{"group":{"start":34,"value":"\"A new pessoaContato is created with identifier\"","children":[{"start":35,"value":"A new pessoaContato is created with identifier","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":20,"gherkinStepLine":29,"keywordType":"Outcome","textWithKeyword":"And a tabela de contatos de pessoa deve conter uma linha com a descrição gerada","stepMatchArguments":[]}]},
  {"pwTestLine":23,"pickleLine":34,"tags":["@pessoascontato","@edit"],"steps":[{"pwStepLine":7,"gherkinStepLine":8,"keywordType":"Context","textWithKeyword":"Given que eu estou na tela de login","isBg":true,"stepMatchArguments":[]},{"pwStepLine":8,"gherkinStepLine":9,"keywordType":"Action","textWithKeyword":"When eu faço login com as credenciais \"admin\" e \"admin\"","isBg":true,"stepMatchArguments":[{"group":{"start":33,"value":"\"admin\"","children":[{"start":34,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":43,"value":"\"admin\"","children":[{"start":44,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":9,"gherkinStepLine":11,"keywordType":"Action","textWithKeyword":"And que uma pessoa com o nome \"Pessoa de Teste\" e um CPF único já existe no sistema","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa de Teste\"","children":[{"start":27,"value":"Pessoa de Teste","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":10,"gherkinStepLine":12,"keywordType":"Action","textWithKeyword":"And eu navego para a lista de \"Pessoa Contato\"","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa Contato\"","children":[{"start":27,"value":"Pessoa Contato","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":24,"gherkinStepLine":35,"keywordType":"Context","textWithKeyword":"Given que um contato de pessoa com a descrição \"Contato a ser Editado\" e um ID único já existe no sistema","stepMatchArguments":[{"group":{"start":41,"value":"\"Contato a ser Editado\"","children":[{"start":42,"value":"Contato a ser Editado","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":25,"gherkinStepLine":36,"keywordType":"Action","textWithKeyword":"When eu clico no botão de edição na linha que contém a descrição \"Contato a ser Editado\" e o ID único","stepMatchArguments":[{"group":{"start":60,"value":"\"Contato a ser Editado\"","children":[{"start":61,"value":"Contato a ser Editado","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":26,"gherkinStepLine":37,"keywordType":"Action","textWithKeyword":"And eu preencho o campo \"Descricao\" com o valor \"Contato Editado com Sucesso\"","stepMatchArguments":[{"group":{"start":20,"value":"\"Descricao\"","children":[{"start":21,"value":"Descricao","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":44,"value":"\"Contato Editado com Sucesso\"","children":[{"start":45,"value":"Contato Editado com Sucesso","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":27,"gherkinStepLine":38,"keywordType":"Action","textWithKeyword":"And eu clico no botão \"Save\"","stepMatchArguments":[{"group":{"start":18,"value":"\"Save\"","children":[{"start":19,"value":"Save","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":28,"gherkinStepLine":39,"keywordType":"Outcome","textWithKeyword":"Then eu devo ver a mensagem de sucesso \"A pessoaContato is updated with identifier\"","stepMatchArguments":[{"group":{"start":34,"value":"\"A pessoaContato is updated with identifier\"","children":[{"start":35,"value":"A pessoaContato is updated with identifier","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":29,"gherkinStepLine":40,"keywordType":"Outcome","textWithKeyword":"And a tabela de contatos de pessoa deve conter uma linha com o ID único a descrição \"Contato Editado com Sucesso\"","stepMatchArguments":[{"group":{"start":80,"value":"\"Contato Editado com Sucesso\"","children":[{"start":81,"value":"Contato Editado com Sucesso","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
  {"pwTestLine":32,"pickleLine":43,"tags":["@pessoascontato","@delete"],"steps":[{"pwStepLine":7,"gherkinStepLine":8,"keywordType":"Context","textWithKeyword":"Given que eu estou na tela de login","isBg":true,"stepMatchArguments":[]},{"pwStepLine":8,"gherkinStepLine":9,"keywordType":"Action","textWithKeyword":"When eu faço login com as credenciais \"admin\" e \"admin\"","isBg":true,"stepMatchArguments":[{"group":{"start":33,"value":"\"admin\"","children":[{"start":34,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":43,"value":"\"admin\"","children":[{"start":44,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":9,"gherkinStepLine":11,"keywordType":"Action","textWithKeyword":"And que uma pessoa com o nome \"Pessoa de Teste\" e um CPF único já existe no sistema","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa de Teste\"","children":[{"start":27,"value":"Pessoa de Teste","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":10,"gherkinStepLine":12,"keywordType":"Action","textWithKeyword":"And eu navego para a lista de \"Pessoa Contato\"","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa Contato\"","children":[{"start":27,"value":"Pessoa Contato","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":33,"gherkinStepLine":44,"keywordType":"Context","textWithKeyword":"Given que um contato de pessoa com a descrição \"Contato a ser Excluído\" e um ID único já existe no sistema","stepMatchArguments":[{"group":{"start":41,"value":"\"Contato a ser Excluído\"","children":[{"start":42,"value":"Contato a ser Excluído","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":34,"gherkinStepLine":45,"keywordType":"Action","textWithKeyword":"When eu clico no botão de exclusão na linha que contém a descrição \"Contato a ser Excluído\" e o ID único","stepMatchArguments":[{"group":{"start":62,"value":"\"Contato a ser Excluído\"","children":[{"start":63,"value":"Contato a ser Excluído","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":35,"gherkinStepLine":46,"keywordType":"Action","textWithKeyword":"And eu clico no botão de confirmar deleção no modal para a entidade \"pessoa-contatoes\"","stepMatchArguments":[{"group":{"start":64,"value":"\"pessoa-contatoes\"","children":[{"start":65,"value":"pessoa-contatoes","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":36,"gherkinStepLine":47,"keywordType":"Outcome","textWithKeyword":"Then eu devo ver a mensagem de sucesso \"A pessoaContato is deleted with identifier\"","stepMatchArguments":[{"group":{"start":34,"value":"\"A pessoaContato is deleted with identifier\"","children":[{"start":35,"value":"A pessoaContato is deleted with identifier","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":37,"gherkinStepLine":48,"keywordType":"Outcome","textWithKeyword":"And a tabela de contatos de pessoa não deve conter uma linha com a descrição \"Contato a ser Excluído\" e o ID único","stepMatchArguments":[{"group":{"start":73,"value":"\"Contato a ser Excluído\"","children":[{"start":74,"value":"Contato a ser Excluído","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
  {"pwTestLine":40,"pickleLine":53,"tags":["@pessoascontato","@validation"],"steps":[{"pwStepLine":7,"gherkinStepLine":8,"keywordType":"Context","textWithKeyword":"Given que eu estou na tela de login","isBg":true,"stepMatchArguments":[]},{"pwStepLine":8,"gherkinStepLine":9,"keywordType":"Action","textWithKeyword":"When eu faço login com as credenciais \"admin\" e \"admin\"","isBg":true,"stepMatchArguments":[{"group":{"start":33,"value":"\"admin\"","children":[{"start":34,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":43,"value":"\"admin\"","children":[{"start":44,"value":"admin","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":9,"gherkinStepLine":11,"keywordType":"Action","textWithKeyword":"And que uma pessoa com o nome \"Pessoa de Teste\" e um CPF único já existe no sistema","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa de Teste\"","children":[{"start":27,"value":"Pessoa de Teste","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":10,"gherkinStepLine":12,"keywordType":"Action","textWithKeyword":"And eu navego para a lista de \"Pessoa Contato\"","isBg":true,"stepMatchArguments":[{"group":{"start":26,"value":"\"Pessoa Contato\"","children":[{"start":27,"value":"Pessoa Contato","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":41,"gherkinStepLine":54,"keywordType":"Action","textWithKeyword":"When eu clico no botão \"Create a new Pessoa Contato\"","stepMatchArguments":[{"group":{"start":18,"value":"\"Create a new Pessoa Contato\"","children":[{"start":19,"value":"Create a new Pessoa Contato","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":42,"gherkinStepLine":55,"keywordType":"Action","textWithKeyword":"And eu preencho o campo \"Descricao\" com o valor \"Contato sem Pessoa\"","stepMatchArguments":[{"group":{"start":20,"value":"\"Descricao\"","children":[{"start":21,"value":"Descricao","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":44,"value":"\"Contato sem Pessoa\"","children":[{"start":45,"value":"Contato sem Pessoa","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":43,"gherkinStepLine":57,"keywordType":"Outcome","textWithKeyword":"Then o botão \"Save\" deve estar desabilitado","stepMatchArguments":[{"group":{"start":8,"value":"\"Save\"","children":[{"start":9,"value":"Save","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
]; // bdd-data-end